/* LearningHub Mobile Optimization CSS */
/* Include this file in all HTML pages for consistent mobile experience */

/* Touch-friendly tap targets */
@media (max-width: 768px) {
    /* Container adjustments */
    .container {
        padding: 1rem !important;
    }

    /* Typography scaling */
    h1 {
        font-size: 1.75rem !important;
        line-height: 1.3 !important;
    }

    h2, .section-title {
        font-size: 1.25rem !important;
    }

    h3 {
        font-size: 1.1rem !important;
    }

    p, .lesson-goal, .goal-desc {
        font-size: 0.95rem !important;
    }

    /* Navigation improvements */
    .nav-bar {
        flex-direction: column;
        gap: 0.75rem;
        align-items: flex-start !important;
    }

    .nav-back {
        font-size: 0.85rem !important;
        padding: 0.5rem 0;
    }

    .nav-breadcrumb {
        font-size: 0.75rem !important;
    }

    /* Header sections */
    .lesson-header, .header {
        padding: 1.5rem 1rem !important;
        border-radius: 12px !important;
    }

    .header-icon, .logo-icon, .goal-icon {
        font-size: 2.5rem !important;
    }

    /* Cards and sections */
    .section, .goal-section, .concepts-section, .progress-section {
        padding: 1.25rem !important;
        border-radius: 12px !important;
    }

    .section-header {
        flex-wrap: wrap;
        gap: 0.5rem !important;
    }

    /* Lesson cards - stack vertically */
    .lesson-card {
        flex-direction: column !important;
        text-align: center !important;
        padding: 1.25rem !important;
        gap: 1rem !important;
    }

    .lesson-num {
        margin: 0 auto !important;
        width: 45px !important;
        height: 45px !important;
        font-size: 1.1rem !important;
    }

    .lesson-info {
        width: 100%;
    }

    .lesson-title {
        font-size: 1rem !important;
    }

    .lesson-status {
        display: inline-block;
        margin-top: 0.5rem;
    }

    /* Module cards */
    .module-card {
        flex-direction: column !important;
        text-align: center !important;
        padding: 1.25rem !important;
        gap: 1rem !important;
    }

    .module-icon {
        width: 55px !important;
        height: 55px !important;
        font-size: 1.5rem !important;
        margin: 0 auto !important;
    }

    /* Path cards (grid layout) */
    .paths, .module-content {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
    }

    .path-card {
        padding: 1.25rem !important;
    }

    .path-icon {
        font-size: 2rem !important;
    }

    .path-title {
        font-size: 1.1rem !important;
    }

    /* Grade grids */
    .grades-grid, .grade-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 0.75rem !important;
    }

    .grade-card, .grade-btn {
        padding: 1rem !important;
    }

    .grade-num {
        font-size: 2rem !important;
    }

    /* Scratch blocks - smaller on mobile */
    .scratch-demo, .preview-box {
        padding: 1rem !important;
        border-radius: 10px !important;
    }

    .scratch-block {
        font-size: 0.8rem !important;
        padding: 0.4rem 0.75rem !important;
    }

    .scratch-blocks {
        gap: 0.4rem !important;
    }

    /* Steps list */
    .steps-list li {
        padding: 0.75rem !important;
        padding-left: 3rem !important;
        font-size: 0.9rem !important;
    }

    .steps-list li::before {
        width: 1.75rem !important;
        height: 1.75rem !important;
        font-size: 0.85rem !important;
        left: 0.5rem !important;
    }

    /* Quiz options - larger touch targets */
    .quiz-question {
        padding: 1rem !important;
    }

    .quiz-options {
        gap: 0.5rem !important;
    }

    .quiz-option {
        padding: 0.9rem !important;
        font-size: 0.9rem !important;
        min-height: 44px; /* iOS touch target minimum */
    }

    /* Navigation buttons */
    .nav-buttons {
        flex-direction: column !important;
        gap: 0.75rem !important;
    }

    .nav-btn {
        width: 100% !important;
        text-align: center !important;
        padding: 0.9rem 1.5rem !important;
    }

    /* Concept tags - wrap properly */
    .concept-tags {
        gap: 0.5rem !important;
    }

    .concept-tag {
        padding: 0.4rem 0.75rem !important;
        font-size: 0.8rem !important;
    }

    /* Example boxes */
    .example-box {
        padding: 0.75rem 1rem !important;
    }

    /* Prerequisites notice */
    .prereq-notice {
        flex-direction: column !important;
        text-align: center !important;
        padding: 1rem !important;
    }

    /* Progress section */
    .progress-bar {
        height: 10px !important;
    }

    /* Footer */
    footer {
        padding: 1.5rem 1rem !important;
        font-size: 0.8rem !important;
    }

    /* Question section */
    .question-section {
        padding: 1.25rem !important;
    }

    .question {
        font-size: 1.2rem !important;
    }

    /* Action buttons */
    .action-btn {
        padding: 0.9rem 1.5rem !important;
        font-size: 0.95rem !important;
    }

    /* Highlight text */
    .highlight {
        padding: 0.15rem 0.35rem !important;
    }

    /* Badges */
    .lesson-badge, .grade-badge, .module-badge {
        font-size: 0.7rem !important;
        padding: 0.25rem 0.65rem !important;
    }

    /* Current module section */
    .current-module {
        padding: 1.25rem !important;
    }

    .module-header {
        flex-direction: column !important;
        text-align: center !important;
        gap: 0.75rem !important;
    }

    .module-title {
        font-size: 1.2rem !important;
    }

    /* Grade topics */
    .grade-topic {
        padding: 1rem !important;
    }

    .topic-name {
        font-size: 0.95rem !important;
    }

    /* Quick start */
    .quick-start {
        padding: 1.25rem !important;
    }

    .quick-title {
        font-size: 1rem !important;
    }
}

/* Extra small screens (phones in portrait) */
@media (max-width: 480px) {
    .container {
        padding: 0.75rem !important;
    }

    h1 {
        font-size: 1.5rem !important;
    }

    .grades-grid, .grade-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    .grade-num {
        font-size: 1.75rem !important;
    }

    .path-card, .lesson-card {
        padding: 1rem !important;
    }

    .scratch-block {
        font-size: 0.75rem !important;
        word-break: break-word;
    }

    .steps-list li {
        padding-left: 2.5rem !important;
    }

    .steps-list li::before {
        width: 1.5rem !important;
        height: 1.5rem !important;
        font-size: 0.75rem !important;
    }
}

/* Landscape orientation on phones */
@media (max-width: 768px) and (orientation: landscape) {
    .lesson-header, .header {
        padding: 1rem !important;
    }

    .goal-icon, .header-icon {
        font-size: 2rem !important;
    }

    .paths {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

/* Tablet optimizations */
@media (min-width: 769px) and (max-width: 1024px) {
    .container {
        padding: 1.5rem !important;
    }

    .paths {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    .grades-grid, .grade-grid {
        grid-template-columns: repeat(4, 1fr) !important;
    }
}

/* Improved touch feedback */
@media (hover: none) and (pointer: coarse) {
    .path-card:active,
    .lesson-card:active,
    .grade-btn:active,
    .grade-card:active,
    .quiz-option:active,
    .nav-btn:active,
    .action-btn:active {
        transform: scale(0.98);
        opacity: 0.9;
    }

    /* Disable hover effects that don't work well on touch */
    .path-card:hover,
    .lesson-card:hover,
    .grade-btn:hover {
        transform: none;
    }
}

/* Safe area for notched phones */
@supports (padding: max(0px)) {
    .container {
        padding-left: max(1rem, env(safe-area-inset-left));
        padding-right: max(1rem, env(safe-area-inset-right));
    }

    footer {
        padding-bottom: max(1.5rem, env(safe-area-inset-bottom));
    }
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}
