<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz: Fisiere audio | Clasa 7</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0f0f1a;
            --bg-secondary: #1a1a2e;
            --bg-card: #252540;
            --accent-green: #10b981;
            --accent-cyan: #06b6d4;
            --accent-red: #ef4444;
            --accent-yellow: #fbbf24;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: #3d3d5c;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 1.5rem;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background: var(--bg-secondary);
            border-radius: 16px;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }

        .quiz-title {
            font-size: 1.3rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .xp-display {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 700;
            color: #fff;
        }

        .level-map {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .level-node {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            border: 3px solid var(--border);
            background: var(--bg-card);
        }

        .level-node.locked {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .level-node.locked::after {
            content: 'üîí';
            position: absolute;
            font-size: 1rem;
            bottom: -5px;
            right: -5px;
        }

        .level-node.active {
            border-color: var(--accent-green);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
            animation: pulse 2s infinite;
        }

        .level-node.completed {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));
            border-color: var(--accent-green);
        }

        .level-node.completed::after {
            content: '‚úì';
            position: absolute;
            font-size: 0.8rem;
            bottom: -5px;
            right: -5px;
            background: var(--accent-green);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .level-connector {
            width: 30px;
            height: 3px;
            background: var(--border);
            align-self: center;
        }

        .level-connector.completed {
            background: var(--accent-green);
        }

        .quiz-area {
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid var(--border);
            min-height: 400px;
        }

        .level-intro {
            text-align: center;
            padding: 2rem;
        }

        .level-intro h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--accent-green);
        }

        .level-intro p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .level-intro .xp-reward {
            display: inline-block;
            background: rgba(16, 185, 129, 0.2);
            color: var(--accent-green);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            margin-bottom: 2rem;
        }

        .question-container {
            display: none;
        }

        .question-container.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .question-progress {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--border);
        }

        .progress-dot.current {
            background: var(--accent-green);
        }

        .progress-dot.correct {
            background: var(--accent-green);
        }

        .progress-dot.wrong {
            background: var(--accent-red);
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
            line-height: 1.6;
        }

        .options-grid {
            display: grid;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .option {
            padding: 1.2rem 1.5rem;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1rem;
            text-align: left;
        }

        .option:hover {
            border-color: var(--accent-cyan);
            transform: translateX(5px);
        }

        .option.correct {
            border-color: var(--accent-green);
            background: rgba(16, 185, 129, 0.2);
        }

        .option.wrong {
            border-color: var(--accent-red);
            background: rgba(239, 68, 68, 0.2);
        }

        .feedback-box {
            display: none;
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1.5rem;
            text-align: center;
        }

        .feedback-box.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .feedback-box.correct {
            background: rgba(16, 185, 129, 0.2);
            border: 2px solid var(--accent-green);
        }

        .feedback-box.wrong {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid var(--accent-red);
        }

        .feedback-icon {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        .feedback-text {
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        .explanation {
            font-size: 0.95rem;
            color: var(--text-secondary);
            background: var(--bg-card);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            border: none;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));
            color: white;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--border);
            color: var(--text-secondary);
        }

        .btn-outline:hover {
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .level-complete {
            display: none;
            text-align: center;
            padding: 3rem;
        }

        .level-complete.show {
            display: block;
            animation: celebrate 0.5s ease;
        }

        @keyframes celebrate {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }

        .level-complete-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
        }

        .level-complete h2 {
            font-size: 2rem;
            color: var(--accent-green);
            margin-bottom: 1rem;
        }

        .xp-earned {
            font-size: 2rem;
            color: var(--accent-cyan);
            margin: 1.5rem 0;
        }

        .score-display {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .stars {
            font-size: 3rem;
            margin: 1rem 0;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .back-link:hover {
            color: var(--accent-cyan);
        }

        @media (max-width: 600px) {
            .container { padding: 1rem; }
            .quiz-header { flex-direction: column; gap: 1rem; }
            .level-node { width: 50px; height: 50px; font-size: 1.2rem; }
            .question-text { font-size: 1.1rem; }
        }

        footer {
            margin-top: 3rem;
            padding: 1.5rem;
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.85rem;
            border-top: 1px solid var(--border);
        }
    </style>
    <link rel="stylesheet" href="../../../../../assets/css/mobile.css">
    <link rel="stylesheet" href="../../../../../assets/css/mobile-first.css">
    </head>
<body>
    <a href="#main-content" class="skip-link">Sari la continut</a>
    <div id="main-content" class="container">
        <a href="../index.html" class="back-link">‚Üê Inapoi la Modulul 2</a>

        <div class="quiz-header">
            <div class="quiz-title">Quiz: Fisiere audio</div>
            <div class="xp-display">
                <span>XP:</span>
                <span id="totalXP">0</span>
            </div>
        </div>

        <div class="level-map">
            <div class="level-node active" data-level="1" onclick="selectLevel(1)">1</div>
            <div class="level-connector"></div>
            <div class="level-node locked" data-level="2" onclick="selectLevel(2)">2</div>
            <div class="level-connector"></div>
            <div class="level-node locked" data-level="3" onclick="selectLevel(3)">3</div>
            <div class="level-connector"></div>
            <div class="level-node locked" data-level="4" onclick="selectLevel(4)">4</div>
            <div class="level-connector"></div>
            <div class="level-node locked" data-level="5" onclick="selectLevel(5)">5</div>
        </div>

        <div class="quiz-area" id="quizArea">
        </div>
    </div>

    <footer>
        <strong>&copy; 2026 Prof. Gurlan Vasile</strong><br>
        Informatica si TIC | <a href="mailto:grlnvasile@gmail.com" style="color: var(--accent-cyan);">grlnvasile@gmail.com</a>
    </footer>

    <script>
        const levels = {
            1: {
                title: "Nivel 1: Ce este audio digital?",
                description: "Invata bazele sunetului digital",
                xpReward: 50,
                questions: [
                    {
                        text: "Ce este un fisier audio?",
                        options: [
                            "O imagine cu note muzicale",
                            "Un fisier care contine sunet inregistrat digital",
                            "Un document text despre muzica",
                            "Un videoclip fara imagine"
                        ],
                        correct: 1,
                        explanation: "Un fisier audio contine sunet inregistrat si stocat in format digital - poate fi muzica, voce, efecte sonore sau orice alt sunet."
                    },
                    {
                        text: "Care dintre urmatoarele NU este un format audio?",
                        options: [
                            "MP3",
                            "WAV",
                            "PNG",
                            "AAC"
                        ],
                        correct: 2,
                        explanation: "PNG este un format de IMAGINE, nu de audio. MP3, WAV si AAC sunt toate formate audio folosite pentru stocarea sunetului."
                    },
                    {
                        text: "Ce reprezinta 'bitrate' la un fisier audio?",
                        options: [
                            "Culoarea sunetului",
                            "Cantitatea de date folosita pe secunda - afecteaza calitatea",
                            "Numarul de instrumente",
                            "Volumul melodiei"
                        ],
                        correct: 1,
                        explanation: "Bitrate (masurat in kbps) indica cate date sunt folosite pe secunda. Un bitrate mai mare = calitate mai buna, dar fisier mai mare."
                    }
                ]
            },
            2: {
                title: "Nivel 2: Formatul MP3",
                description: "Descopera cel mai popular format audio",
                xpReward: 75,
                questions: [
                    {
                        text: "De ce este MP3 atat de popular?",
                        options: [
                            "Pentru ca este cel mai vechi format",
                            "Pentru ca ofera un echilibru bun intre calitate si marimea fisierului",
                            "Pentru ca este gratuit sa il creezi",
                            "Pentru ca functioneaza doar pe telefoane"
                        ],
                        correct: 1,
                        explanation: "MP3 comprima audio reducand marimea fisierului de ~10 ori, pastrind o calitate buna - ideal pentru stocare si streaming."
                    },
                    {
                        text: "Ce inseamna ca MP3 foloseste 'compresie cu pierderi'?",
                        options: [
                            "Fisierul se pierde dupa un timp",
                            "Unele date audio sunt eliminate permanent pentru a reduce marimea",
                            "Sunetul devine mai tare",
                            "Nu poti da volumul mai incet"
                        ],
                        correct: 1,
                        explanation: "Compresie cu pierderi = MP3 elimina sunete pe care urechea umana le aude mai greu, reducand marimea dar pierzand unele detalii audio."
                    },
                    {
                        text: "Care bitrate MP3 este considerat de buna calitate pentru ascultare obisnuita?",
                        options: [
                            "32 kbps - calitate foarte slaba",
                            "128-320 kbps - calitate buna spre excelenta",
                            "1 kbps - calitate perfecta",
                            "10000 kbps - calitate standard"
                        ],
                        correct: 1,
                        explanation: "128 kbps este acceptabil, 192 kbps este bun, iar 320 kbps este calitatea maxima pentru MP3 - aproape indistinctibil de original pentru majoritatea oamenilor."
                    }
                ]
            },
            3: {
                title: "Nivel 3: Formatul WAV",
                description: "Invata despre formatul audio necomprimat",
                xpReward: 100,
                questions: [
                    {
                        text: "Care este principalul avantaj al formatului WAV?",
                        options: [
                            "Fisierele sunt foarte mici",
                            "Pastreaza calitatea audio originala, fara pierderi",
                            "Functioneaza doar pe Windows",
                            "Este mai rapid de descarcat"
                        ],
                        correct: 1,
                        explanation: "WAV este necomprimat, pastrand 100% din calitatea audio originala - perfect pentru editare profesionala si arhivare."
                    },
                    {
                        text: "Care este principalul dezavantaj al formatului WAV?",
                        options: [
                            "Calitate slaba a sunetului",
                            "Fisierele sunt foarte mari (poate fi de 10x mai mare decat MP3)",
                            "Nu se poate asculta pe calculator",
                            "Nu suporta stereo"
                        ],
                        correct: 1,
                        explanation: "Fisierele WAV sunt foarte mari - un minut de audio poate avea ~10 MB, comparativ cu ~1 MB pentru MP3. Nu e practic pentru stocare sau streaming."
                    },
                    {
                        text: "Cand este recomandat sa folosesti WAV in loc de MP3?",
                        options: [
                            "Niciodata, MP3 e mereu mai bun",
                            "Pentru editare audio profesionala sau cand calitatea e prioritara",
                            "Doar pentru efecte sonore",
                            "Cand vrei sa ocupi mai mult spatiu"
                        ],
                        correct: 1,
                        explanation: "WAV e ideal pentru productie muzicala, editare audio profesionala sau arhivare, cand vrei sa pastrezi calitatea maxima si ai spatiu de stocare."
                    }
                ]
            },
            4: {
                title: "Nivel 4: Alte formate audio",
                description: "Exploreaza AAC, FLAC si alte formate",
                xpReward: 125,
                questions: [
                    {
                        text: "Ce format audio foloseste Apple pentru iTunes si dispozitivele sale?",
                        options: [
                            "MP3",
                            "AAC (Advanced Audio Coding)",
                            "WAV",
                            "MIDI"
                        ],
                        correct: 1,
                        explanation: "AAC este formatul preferat de Apple - ofera calitate mai buna decat MP3 la acelasi bitrate si este folosit in iTunes, Apple Music si dispozitivele Apple."
                    },
                    {
                        text: "Ce este special la formatul FLAC?",
                        options: [
                            "Este foarte prost calitativ",
                            "Ofera compresie FARA pierderi - reduce marimea fara a pierde calitate",
                            "Este doar pentru filme",
                            "Functioneaza doar offline"
                        ],
                        correct: 1,
                        explanation: "FLAC (Free Lossless Audio Codec) comprima audio fara a pierde nimic din calitate - fisierele sunt mai mici ca WAV dar identice calitativ."
                    },
                    {
                        text: "Ce tip de 'audio' este MIDI?",
                        options: [
                            "O inregistrare vocala",
                            "Instructiuni digitale care spun instrumentelor ce note sa cante",
                            "Un format video",
                            "Un tip de microfon"
                        ],
                        correct: 1,
                        explanation: "MIDI nu contine sunet real - contine instructiuni (ce nota, cat de tare, cat de lunga) care pot fi interpretate de sintetizatoare sau instrumente virtuale."
                    }
                ]
            },
            5: {
                title: "Nivel 5: Editare audio de baza",
                description: "Invata operatii simple de editare audio",
                xpReward: 150,
                questions: [
                    {
                        text: "Ce inseamna sa 'tai' (trim) un fisier audio?",
                        options: [
                            "Sa il stergi complet",
                            "Sa elimini parti de la inceput sau sfarsit, pastrind doar portiunea dorita",
                            "Sa il faci mai tare",
                            "Sa il convertesti in video"
                        ],
                        correct: 1,
                        explanation: "Trimming inseamna sa elimini parti nedorite - de exemplu, sa tai linistea de la inceput sau sfarsitul unei inregistrari."
                    },
                    {
                        text: "Ce face functia 'Normalize' in editarea audio?",
                        options: [
                            "Face sunetul sa para ciudat",
                            "Ajusteaza automat volumul la un nivel optim",
                            "Sterge tot audio",
                            "Adauga ecou"
                        ],
                        correct: 1,
                        explanation: "Normalize ajusteaza volumul intregului fisier astfel incat cel mai puternic moment sa atinga un nivel tinta - face audio-ul consistent ca volum."
                    },
                    {
                        text: "Ce face efectul 'Fade In' si 'Fade Out'?",
                        options: [
                            "Schimba viteza melodiei",
                            "Creste/scade treptat volumul la inceput/sfarsit, pentru tranzitii line",
                            "Inverseaza sunetul",
                            "Adauga instrumente"
                        ],
                        correct: 1,
                        explanation: "Fade In creste volumul treptat de la zero (pentru un inceput lin), iar Fade Out scade volumul la zero (pentru un sfarsit neb brusc)."
                    }
                ]
            }
        };

        let currentLevel = 1;
        let currentQuestion = 0;
        let score = 0;
        let totalXP = 0;
        let levelScores = {};
        let unlockedLevels = [1];

        function loadProgress() {
            const saved = localStorage.getItem('cls7_multimedia_quiz3_progress');
            if (saved) {
                const data = JSON.parse(saved);
                totalXP = data.totalXP || 0;
                unlockedLevels = data.unlockedLevels || [1];
                levelScores = data.levelScores || {};
                updateXPDisplay();
                updateLevelMap();
            }
        }

        function saveProgress() {
            localStorage.setItem('cls7_multimedia_quiz3_progress', JSON.stringify({
                totalXP,
                unlockedLevels,
                levelScores
            }));
        }

        function updateXPDisplay() {
            document.getElementById('totalXP').textContent = totalXP;
        }

        function updateLevelMap() {
            document.querySelectorAll('.level-node').forEach((node, index) => {
                const level = index + 1;
                node.classList.remove('locked', 'active', 'completed');

                if (levelScores[level] !== undefined) {
                    node.classList.add('completed');
                } else if (unlockedLevels.includes(level)) {
                    if (level === Math.max(...unlockedLevels.filter(l => levelScores[l] === undefined))) {
                        node.classList.add('active');
                    }
                } else {
                    node.classList.add('locked');
                }
            });

            document.querySelectorAll('.level-connector').forEach((conn, index) => {
                if (levelScores[index + 1] !== undefined) {
                    conn.classList.add('completed');
                } else {
                    conn.classList.remove('completed');
                }
            });
        }

        function selectLevel(level) {
            if (!unlockedLevels.includes(level)) return;
            currentLevel = level;
            currentQuestion = 0;
            score = 0;
            showLevelIntro();
        }

        function showLevelIntro() {
            const levelData = levels[currentLevel];
            document.getElementById('quizArea').innerHTML = `
                <div class="level-intro">
                    <h2>${levelData.title}</h2>
                    <p>${levelData.description}</p>
                    <div class="xp-reward">+${levelData.xpReward} XP</div>
                    <button class="btn btn-primary" onclick="startLevel()">
                        Incepe Nivelul
                    </button>
                </div>
            `;
        }

        function startLevel() {
            showQuestion();
        }

        function showQuestion() {
            const levelData = levels[currentLevel];
            const q = levelData.questions[currentQuestion];

            let progressDots = '';
            for (let i = 0; i < levelData.questions.length; i++) {
                let dotClass = 'progress-dot';
                if (i === currentQuestion) dotClass += ' current';
                progressDots += `<div class="${dotClass}"></div>`;
            }

            let optionsHTML = '';
            q.options.forEach((opt, i) => {
                optionsHTML += `<div class="option" onclick="selectAnswer(${i})">${opt}</div>`;
            });

            document.getElementById('quizArea').innerHTML = `
                <div class="question-container active">
                    <div class="question-progress">${progressDots}</div>
                    <p class="question-text">${q.text}</p>
                    <div class="options-grid">${optionsHTML}</div>
                    <div class="feedback-box" id="feedback"></div>
                    <div style="text-align: center; margin-top: 1.5rem;">
                        <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" style="display: none;">
                            Urmatoarea Intrebare
                        </button>
                    </div>
                </div>
            `;
        }

        function selectAnswer(index) {
            const levelData = levels[currentLevel];
            const q = levelData.questions[currentQuestion];
            const options = document.querySelectorAll('.option');
            const feedback = document.getElementById('feedback');
            const nextBtn = document.getElementById('nextBtn');

            options.forEach(opt => opt.style.pointerEvents = 'none');

            options[index].classList.add(index === q.correct ? 'correct' : 'wrong');
            if (index !== q.correct) {
                options[q.correct].classList.add('correct');
            }

            const dots = document.querySelectorAll('.progress-dot');
            dots[currentQuestion].classList.remove('current');
            dots[currentQuestion].classList.add(index === q.correct ? 'correct' : 'wrong');

            if (index === q.correct) {
                score++;
                feedback.className = 'feedback-box show correct';
                feedback.innerHTML = `
                    <div class="feedback-icon">üéâ</div>
                    <div class="feedback-text">Corect!</div>
                    <div class="explanation">${q.explanation}</div>
                `;
            } else {
                feedback.className = 'feedback-box show wrong';
                feedback.innerHTML = `
                    <div class="feedback-icon">üòÖ</div>
                    <div class="feedback-text">Nu chiar... Raspunsul corect era: "${q.options[q.correct]}"</div>
                    <div class="explanation">${q.explanation}</div>
                `;
            }

            nextBtn.style.display = 'inline-flex';
            nextBtn.textContent = currentQuestion < levelData.questions.length - 1 ?
                'Urmatoarea Intrebare' : 'Vezi Rezultatul';
        }

        function nextQuestion() {
            const levelData = levels[currentLevel];
            currentQuestion++;

            if (currentQuestion >= levelData.questions.length) {
                showLevelComplete();
            } else {
                showQuestion();
            }
        }

        function showLevelComplete() {
            const levelData = levels[currentLevel];
            const percentage = Math.round((score / levelData.questions.length) * 100);
            const passed = percentage >= 66;

            let stars = '';
            if (percentage >= 100) stars = '‚≠ê‚≠ê‚≠ê';
            else if (percentage >= 80) stars = '‚≠ê‚≠ê';
            else if (percentage >= 66) stars = '‚≠ê';
            else stars = 'üí™';

            let earnedXP = 0;
            if (passed) {
                earnedXP = levelData.xpReward;
                if (percentage === 100) earnedXP = Math.round(earnedXP * 1.5);

                if (!levelScores[currentLevel] || levelScores[currentLevel] < percentage) {
                    if (!levelScores[currentLevel]) {
                        totalXP += earnedXP;
                    }
                    levelScores[currentLevel] = percentage;
                }

                if (currentLevel < 5 && !unlockedLevels.includes(currentLevel + 1)) {
                    unlockedLevels.push(currentLevel + 1);
                }

                saveProgress();
                updateXPDisplay();
                updateLevelMap();
            }

            document.getElementById('quizArea').innerHTML = `
                <div class="level-complete show">
                    <div class="level-complete-icon">${passed ? 'üèÜ' : 'üìö'}</div>
                    <h2>${passed ? 'Nivel Completat!' : 'Mai incearca!'}</h2>
                    <div class="stars">${stars}</div>
                    <div class="score-display">${score}/${levelData.questions.length} raspunsuri corecte (${percentage}%)</div>
                    ${passed ? `<div class="xp-earned">+${earnedXP} XP</div>` : ''}
                    <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                        <button class="btn btn-outline" onclick="selectLevel(${currentLevel})">
                            Reincearca
                        </button>
                        ${passed && currentLevel < 5 ? `
                            <button class="btn btn-primary" onclick="selectLevel(${currentLevel + 1})">
                                Nivelul Urmator
                            </button>
                        ` : ''}
                        ${passed && currentLevel === 5 ? `
                            <button class="btn btn-success" onclick="window.location.href='quiz4-video.html'">
                                Quiz-ul 4: Fisiere video
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        loadProgress();
        showLevelIntro();
    </script>
</body>
</html>
