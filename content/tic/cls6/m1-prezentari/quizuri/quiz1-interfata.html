<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz: Interfata PowerPoint | Clasa 6</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0f0f1a;
            --bg-secondary: #1a1a2e;
            --bg-card: #252540;
            --accent-orange: #f59e0b;
            --accent-purple: #8b5cf6;
            --accent-green: #10b981;
            --accent-cyan: #06b6d4;
            --accent-red: #ef4444;
            --accent-yellow: #fbbf24;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: #3d3d5c;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 1.5rem;
        }

        /* Header with XP */
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background: var(--bg-secondary);
            border-radius: 16px;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }

        .quiz-title {
            font-size: 1.3rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .xp-display {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-purple));
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 700;
            color: #fff;
        }

        /* Level Map */
        .level-map {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .level-node {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            border: 3px solid var(--border);
            background: var(--bg-card);
        }

        .level-node.locked {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .level-node.locked::after {
            content: 'üîí';
            position: absolute;
            font-size: 1rem;
            bottom: -5px;
            right: -5px;
        }

        .level-node.active {
            border-color: var(--accent-orange);
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.5);
            animation: pulse 2s infinite;
        }

        .level-node.completed {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));
            border-color: var(--accent-green);
        }

        .level-node.completed::after {
            content: '‚úì';
            position: absolute;
            font-size: 0.8rem;
            bottom: -5px;
            right: -5px;
            background: var(--accent-green);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Level connector line */
        .level-connector {
            width: 30px;
            height: 3px;
            background: var(--border);
            align-self: center;
        }

        .level-connector.completed {
            background: var(--accent-green);
        }

        /* Quiz Area */
        .quiz-area {
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid var(--border);
            min-height: 400px;
        }

        .level-intro {
            text-align: center;
            padding: 2rem;
        }

        .level-intro h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--accent-orange);
        }

        .level-intro p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .level-intro .xp-reward {
            display: inline-block;
            background: rgba(245, 158, 11, 0.2);
            color: var(--accent-orange);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            margin-bottom: 2rem;
        }

        /* Question styles */
        .question-container {
            display: none;
        }

        .question-container.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .question-progress {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--border);
        }

        .progress-dot.current {
            background: var(--accent-orange);
        }

        .progress-dot.correct {
            background: var(--accent-green);
        }

        .progress-dot.wrong {
            background: var(--accent-red);
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
            line-height: 1.6;
        }

        .question-image {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .question-image img {
            max-width: 100%;
            border-radius: 12px;
        }

        /* PowerPoint UI mockup */
        .ppt-ui-mockup {
            background: #2d2d4a;
            border-radius: 12px;
            padding: 1rem;
            margin: 1rem auto;
            max-width: 500px;
            text-align: left;
            border: 2px solid var(--border);
        }

        .ppt-toolbar {
            background: #1e1e3a;
            padding: 0.5rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .ppt-btn {
            padding: 0.3rem 0.6rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text-primary);
            font-size: 0.85rem;
        }

        .ppt-btn.highlight {
            background: var(--accent-orange);
            border-color: var(--accent-orange);
        }

        .ppt-workspace {
            display: flex;
            gap: 0.5rem;
        }

        .ppt-slides-panel {
            width: 80px;
            background: #1e1e3a;
            border-radius: 4px;
            padding: 0.5rem;
        }

        .ppt-slide-thumb {
            background: #fff;
            height: 45px;
            margin-bottom: 0.5rem;
            border-radius: 2px;
            border: 2px solid transparent;
        }

        .ppt-slide-thumb.active {
            border-color: var(--accent-orange);
        }

        .ppt-main-area {
            flex: 1;
            background: #3d3d5c;
            border-radius: 4px;
            padding: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ppt-slide {
            background: #fff;
            width: 100%;
            height: 120px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-family: 'Arial', sans-serif;
        }

        /* Answer options */
        .options-grid {
            display: grid;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .option {
            padding: 1.2rem 1.5rem;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1rem;
            text-align: left;
        }

        .option:hover {
            border-color: var(--accent-purple);
            transform: translateX(5px);
        }

        .option.selected {
            border-color: var(--accent-cyan);
            background: rgba(6, 182, 212, 0.1);
        }

        .option.correct {
            border-color: var(--accent-green);
            background: rgba(16, 185, 129, 0.2);
        }

        .option.wrong {
            border-color: var(--accent-red);
            background: rgba(239, 68, 68, 0.2);
        }

        /* Feedback */
        .feedback-box {
            display: none;
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1.5rem;
            text-align: center;
        }

        .feedback-box.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .feedback-box.correct {
            background: rgba(16, 185, 129, 0.2);
            border: 2px solid var(--accent-green);
        }

        .feedback-box.wrong {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid var(--accent-red);
        }

        .feedback-icon {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        .feedback-text {
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        .explanation {
            font-size: 0.95rem;
            color: var(--text-secondary);
            background: var(--bg-card);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            border: none;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-purple));
            color: white;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(245, 158, 11, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--border);
            color: var(--text-secondary);
        }

        .btn-outline:hover {
            border-color: var(--accent-orange);
            color: var(--accent-orange);
        }

        /* Level complete screen */
        .level-complete {
            display: none;
            text-align: center;
            padding: 3rem;
        }

        .level-complete.show {
            display: block;
            animation: celebrate 0.5s ease;
        }

        @keyframes celebrate {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }

        .level-complete-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
        }

        .level-complete h2 {
            font-size: 2rem;
            color: var(--accent-green);
            margin-bottom: 1rem;
        }

        .xp-earned {
            font-size: 2rem;
            color: var(--accent-orange);
            margin: 1.5rem 0;
        }

        .score-display {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .stars {
            font-size: 3rem;
            margin: 1rem 0;
        }

        /* Back link */
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .back-link:hover {
            color: var(--accent-cyan);
        }

        /* Responsive */
        @media (max-width: 600px) {
            .container { padding: 1rem; }
            .quiz-header { flex-direction: column; gap: 1rem; }
            .level-node { width: 50px; height: 50px; font-size: 1.2rem; }
            .question-text { font-size: 1.1rem; }
        }

        footer {
            margin-top: 3rem;
            padding: 1.5rem;
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.85rem;
            border-top: 1px solid var(--border);
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">‚Üê Inapoi la Modulul 1</a>

        <div class="quiz-header">
            <div class="quiz-title">Quiz: Interfata PowerPoint</div>
            <div class="xp-display">
                <span>XP:</span>
                <span id="totalXP">0</span>
            </div>
        </div>

        <!-- Level Map -->
        <div class="level-map">
            <div class="level-node active" data-level="1" onclick="selectLevel(1)">1</div>
            <div class="level-connector"></div>
            <div class="level-node locked" data-level="2" onclick="selectLevel(2)">2</div>
            <div class="level-connector"></div>
            <div class="level-node locked" data-level="3" onclick="selectLevel(3)">3</div>
            <div class="level-connector"></div>
            <div class="level-node locked" data-level="4" onclick="selectLevel(4)">4</div>
            <div class="level-connector"></div>
            <div class="level-node locked" data-level="5" onclick="selectLevel(5)">5</div>
        </div>

        <!-- Quiz Area -->
        <div class="quiz-area" id="quizArea">
            <!-- Level intro will be shown here -->
        </div>
    </div>

    <footer>
        <strong>&copy; 2026 Prof. Gurlan Vasile</strong><br>
        Informatica si TIC | <a href="mailto:grlnvasile@gmail.com" style="color: var(--accent-cyan);">grlnvasile@gmail.com</a>
    </footer>

    <script>
        // Quiz data for each level
        const levels = {
            1: {
                title: "Nivel 1: Ce este PowerPoint?",
                description: "Invata ce este PowerPoint si la ce il folosim",
                xpReward: 50,
                questions: [
                    {
                        text: "Ce este Microsoft PowerPoint?",
                        options: [
                            "Un program pentru scris texte",
                            "Un program pentru creat prezentari",
                            "Un program pentru calcule matematice",
                            "Un browser de internet"
                        ],
                        correct: 1,
                        explanation: "Microsoft PowerPoint este un program special pentru crearea prezentarilor. Cu el poti face slide-uri cu text, imagini, animatii si multe altele pentru a prezenta informatii intr-un mod atractiv."
                    },
                    {
                        text: "La ce folosim prezentarile PowerPoint?",
                        options: [
                            "Doar pentru a desena",
                            "Pentru a prezenta informatii in fata unui public",
                            "Pentru a asculta muzica",
                            "Pentru a naviga pe internet"
                        ],
                        correct: 1,
                        explanation: "Prezentarile PowerPoint sunt perfecte pentru a expune informatii in fata clasei, la conferinte, proiecte scolare sau orice alta situatie in care vrei sa prezinti ceva vizual si organizat."
                    },
                    {
                        text: "Ce este un slide (diapozitiv)?",
                        options: [
                            "O pagina din prezentare",
                            "Un tip de animatie",
                            "Un buton din PowerPoint",
                            "O culoare de fundal"
                        ],
                        correct: 0,
                        explanation: "Un slide (sau diapozitiv) este o pagina din prezentare. O prezentare este formata din mai multe slide-uri, fiecare putand contine text, imagini, grafice sau alte elemente."
                    }
                ]
            },
            2: {
                title: "Nivel 2: Fereastra PowerPoint",
                description: "Descopera elementele principale ale ferestrei PowerPoint",
                xpReward: 75,
                questions: [
                    {
                        text: "Unde gasesti butoanele pentru formatare si inserare in PowerPoint?",
                        options: [
                            "In bara de stare (jos)",
                            "In Ribbon (panglica cu taburi sus)",
                            "In panoul de slide-uri",
                            "In zona de notite"
                        ],
                        correct: 1,
                        explanation: "Ribbon-ul (panglica) este bara mare din partea de sus a ferestrei care contine taburi precum Home, Insert, Design. Aici gasesti toate instrumentele pentru a edita prezentarea."
                    },
                    {
                        text: "Ce arata panoul din stanga ferestrei PowerPoint?",
                        options: [
                            "Setarile programului",
                            "Miniaturile tuturor slide-urilor",
                            "Lista de animatii",
                            "Culorile disponibile"
                        ],
                        correct: 1,
                        explanation: "Panoul din stanga (panoul de slide-uri) arata miniaturi ale tuturor slide-urilor din prezentare. De aici poti selecta, reordona sau sterge slide-uri rapid."
                    },
                    {
                        text: "Care este zona cea mai mare din fereastra PowerPoint?",
                        options: [
                            "Ribbon-ul",
                            "Panoul de slide-uri",
                            "Zona de editare (slide-ul curent)",
                            "Bara de stare"
                        ],
                        correct: 2,
                        explanation: "Zona de editare este spatiul central, cel mai mare, unde vezi si editezi slide-ul selectat. Aici adaugi text, imagini, forme si alte elemente."
                    }
                ]
            },
            3: {
                title: "Nivel 3: Taburile din Ribbon",
                description: "Invata despre taburile principale din Ribbon",
                xpReward: 100,
                questions: [
                    {
                        text: "Ce gasesti in tabul 'Home' (Pornire)?",
                        options: [
                            "Efecte de animatie",
                            "Optiuni de formatare text, clipboard, slide-uri noi",
                            "Setari pentru imprimare",
                            "Optiuni de salvare"
                        ],
                        correct: 1,
                        explanation: "Tabul Home contine cele mai folosite instrumente: clipboard (copiere, lipire), formatare text (font, dimensiune, culoare), adaugare slide-uri noi si aranjarea obiectelor."
                    },
                    {
                        text: "Din ce tab inserezi imagini si forme in prezentare?",
                        options: [
                            "Home",
                            "Insert (Inserare)",
                            "Design",
                            "View (Vizualizare)"
                        ],
                        correct: 1,
                        explanation: "Tabul Insert (Inserare) este folosit pentru a adauga elemente noi: imagini, forme, casete de text, grafice, video-uri, tabele si multe altele."
                    },
                    {
                        text: "Ce poti schimba din tabul 'Design'?",
                        options: [
                            "Animatiile slide-urilor",
                            "Tema si aspectul general al prezentarii",
                            "Ordinea slide-urilor",
                            "Textul din slide-uri"
                        ],
                        correct: 1,
                        explanation: "Tabul Design iti permite sa schimbi tema prezentarii (culorile, fonturile, fundalul). Poti alege dintr-o varietate de teme predefinite sau sa creezi propria tema."
                    }
                ]
            },
            4: {
                title: "Nivel 4: Moduri de vizualizare",
                description: "Descopera diferitele moduri de a vedea prezentarea",
                xpReward: 125,
                questions: [
                    {
                        text: "Ce mod de vizualizare folosesti pentru a edita un slide?",
                        options: [
                            "Slide Show (Prezentare)",
                            "Normal (Normal View)",
                            "Reading View",
                            "Outline View"
                        ],
                        correct: 1,
                        explanation: "Modul Normal este cel implicit si cel mai folosit pentru editare. Vezi slide-ul mare in centru, cu panoul de miniaturi in stanga si optional zona de notite jos."
                    },
                    {
                        text: "Cum pornesti prezentarea pentru a o arata publicului?",
                        options: [
                            "Apesi tasta Enter",
                            "Apesi F5 sau butonul Slide Show",
                            "Apesi Ctrl+S",
                            "Apesi Delete"
                        ],
                        correct: 1,
                        explanation: "Pentru a porni prezentarea de la primul slide, apesi tasta F5 sau folosesti butonul Slide Show din Ribbon. Pentru a porni de la slide-ul curent, apesi Shift+F5."
                    },
                    {
                        text: "Ce vezi in modul 'Slide Sorter' (Sortare diapozitive)?",
                        options: [
                            "Un singur slide foarte mare",
                            "Toate slide-urile mici, pentru a le reordona usor",
                            "Doar textul din prezentare",
                            "Animatiile prezentarii"
                        ],
                        correct: 1,
                        explanation: "Modul Slide Sorter arata toate slide-urile ca miniaturi. Este perfect pentru a vedea prezentarea in ansamblu, a reordona slide-urile prin tragere sau a sterge mai multe simultan."
                    }
                ]
            },
            5: {
                title: "Nivel 5: Bara de stare si alte elemente",
                description: "Invata despre bara de stare si optiuni suplimentare",
                xpReward: 150,
                questions: [
                    {
                        text: "Ce informatii gasesti in bara de stare (jos)?",
                        options: [
                            "Lista de fonturi",
                            "Numarul slide-ului curent si butoane de vizualizare",
                            "Optiuni de salvare",
                            "Animatii disponibile"
                        ],
                        correct: 1,
                        explanation: "Bara de stare (situata in partea de jos) arata numarul slide-ului curent, totalul de slide-uri, limba, si contine butoane pentru a schimba rapid modul de vizualizare si zoom-ul."
                    },
                    {
                        text: "Cum maresti sau micsorezi vizualizarea slide-ului?",
                        options: [
                            "Din meniul File",
                            "Cu sliderul de zoom din bara de stare",
                            "Nu se poate schimba",
                            "Doar repornind programul"
                        ],
                        correct: 1,
                        explanation: "In coltul din dreapta jos gasesti sliderul de zoom. Tragand spre dreapta maresti, spre stanga micsorezi. Poti si sa dai click pe procentaj pentru optiuni precise (ex: 100%, Fit to Window)."
                    },
                    {
                        text: "Ce este zona de 'Notes' (Notite) de sub slide?",
                        options: [
                            "Un loc pentru a scrie notite pe care publicul nu le vede",
                            "Un loc pentru animatii",
                            "Un loc pentru a pune imagini",
                            "Un loc pentru a schimba tema"
                        ],
                        correct: 0,
                        explanation: "Zona de Notes este pentru notitele prezentatorului. Aici poti scrie ce vrei sa spui la fiecare slide. Publicul nu vede aceste notite, dar tu le poti vedea in modul Presenter View."
                    }
                ]
            }
        };

        let currentLevel = 1;
        let currentQuestion = 0;
        let score = 0;
        let totalXP = 0;
        let levelScores = {};
        let unlockedLevels = [1];

        // Load saved progress
        function loadProgress() {
            const saved = localStorage.getItem('ppt_quiz1_progress');
            if (saved) {
                const data = JSON.parse(saved);
                totalXP = data.totalXP || 0;
                unlockedLevels = data.unlockedLevels || [1];
                levelScores = data.levelScores || {};
                updateXPDisplay();
                updateLevelMap();
            }
        }

        function saveProgress() {
            localStorage.setItem('ppt_quiz1_progress', JSON.stringify({
                totalXP,
                unlockedLevels,
                levelScores
            }));
        }

        function updateXPDisplay() {
            document.getElementById('totalXP').textContent = totalXP;
        }

        function updateLevelMap() {
            document.querySelectorAll('.level-node').forEach((node, index) => {
                const level = index + 1;
                node.classList.remove('locked', 'active', 'completed');

                if (levelScores[level] !== undefined) {
                    node.classList.add('completed');
                } else if (unlockedLevels.includes(level)) {
                    if (level === Math.max(...unlockedLevels.filter(l => levelScores[l] === undefined))) {
                        node.classList.add('active');
                    }
                } else {
                    node.classList.add('locked');
                }
            });

            document.querySelectorAll('.level-connector').forEach((conn, index) => {
                if (levelScores[index + 1] !== undefined) {
                    conn.classList.add('completed');
                } else {
                    conn.classList.remove('completed');
                }
            });
        }

        function selectLevel(level) {
            if (!unlockedLevels.includes(level)) return;
            currentLevel = level;
            currentQuestion = 0;
            score = 0;
            showLevelIntro();
        }

        function showLevelIntro() {
            const levelData = levels[currentLevel];
            document.getElementById('quizArea').innerHTML = `
                <div class="level-intro">
                    <h2>${levelData.title}</h2>
                    <p>${levelData.description}</p>
                    <div class="xp-reward">+${levelData.xpReward} XP</div>
                    <button class="btn btn-primary" onclick="startLevel()">
                        Incepe Nivelul
                    </button>
                </div>
            `;
        }

        function startLevel() {
            showQuestion();
        }

        function showQuestion() {
            const levelData = levels[currentLevel];
            const q = levelData.questions[currentQuestion];

            let progressDots = '';
            for (let i = 0; i < levelData.questions.length; i++) {
                let dotClass = 'progress-dot';
                if (i === currentQuestion) dotClass += ' current';
                progressDots += `<div class="${dotClass}"></div>`;
            }

            let questionContent = `<p class="question-text">${q.text}</p>`;

            let optionsHTML = '';
            q.options.forEach((opt, i) => {
                optionsHTML += `<div class="option" onclick="selectAnswer(${i})">${opt}</div>`;
            });

            document.getElementById('quizArea').innerHTML = `
                <div class="question-container active">
                    <div class="question-progress">${progressDots}</div>
                    ${questionContent}
                    <div class="options-grid">${optionsHTML}</div>
                    <div class="feedback-box" id="feedback"></div>
                    <div style="text-align: center; margin-top: 1.5rem;">
                        <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" style="display: none;">
                            Urmatoarea Intrebare
                        </button>
                    </div>
                </div>
            `;
        }

        function selectAnswer(index) {
            const levelData = levels[currentLevel];
            const q = levelData.questions[currentQuestion];
            const options = document.querySelectorAll('.option');
            const feedback = document.getElementById('feedback');
            const nextBtn = document.getElementById('nextBtn');

            // Disable all options
            options.forEach(opt => opt.style.pointerEvents = 'none');

            // Show correct/wrong
            options[index].classList.add(index === q.correct ? 'correct' : 'wrong');
            if (index !== q.correct) {
                options[q.correct].classList.add('correct');
            }

            // Update progress dots
            const dots = document.querySelectorAll('.progress-dot');
            dots[currentQuestion].classList.remove('current');
            dots[currentQuestion].classList.add(index === q.correct ? 'correct' : 'wrong');

            // Show feedback
            if (index === q.correct) {
                score++;
                feedback.className = 'feedback-box show correct';
                feedback.innerHTML = `
                    <div class="feedback-icon">üéâ</div>
                    <div class="feedback-text">Corect!</div>
                    <div class="explanation">${q.explanation}</div>
                `;
            } else {
                feedback.className = 'feedback-box show wrong';
                feedback.innerHTML = `
                    <div class="feedback-icon">üòÖ</div>
                    <div class="feedback-text">Nu chiar...</div>
                    <div class="explanation">${q.explanation}</div>
                `;
            }

            nextBtn.style.display = 'inline-flex';
            nextBtn.textContent = currentQuestion < levelData.questions.length - 1 ?
                'Urmatoarea Intrebare' : 'Vezi Rezultatul';
        }

        function nextQuestion() {
            const levelData = levels[currentLevel];
            currentQuestion++;

            if (currentQuestion >= levelData.questions.length) {
                showLevelComplete();
            } else {
                showQuestion();
            }
        }

        function showLevelComplete() {
            const levelData = levels[currentLevel];
            const percentage = Math.round((score / levelData.questions.length) * 100);
            const passed = percentage >= 66;

            let stars = '';
            if (percentage >= 100) stars = '‚≠ê‚≠ê‚≠ê';
            else if (percentage >= 80) stars = '‚≠ê‚≠ê';
            else if (percentage >= 66) stars = '‚≠ê';
            else stars = 'üí™';

            let earnedXP = 0;
            if (passed) {
                earnedXP = levelData.xpReward;
                if (percentage === 100) earnedXP = Math.round(earnedXP * 1.5);

                if (!levelScores[currentLevel] || levelScores[currentLevel] < percentage) {
                    if (!levelScores[currentLevel]) {
                        totalXP += earnedXP;
                    }
                    levelScores[currentLevel] = percentage;
                }

                // Unlock next level
                if (currentLevel < 5 && !unlockedLevels.includes(currentLevel + 1)) {
                    unlockedLevels.push(currentLevel + 1);
                }

                saveProgress();
                updateXPDisplay();
                updateLevelMap();
            }

            document.getElementById('quizArea').innerHTML = `
                <div class="level-complete show">
                    <div class="level-complete-icon">${passed ? 'üèÜ' : 'üìö'}</div>
                    <h2>${passed ? 'Nivel Completat!' : 'Mai incearca!'}</h2>
                    <div class="stars">${stars}</div>
                    <div class="score-display">${score}/${levelData.questions.length} raspunsuri corecte (${percentage}%)</div>
                    ${passed ? `<div class="xp-earned">+${earnedXP} XP</div>` : ''}
                    <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                        <button class="btn btn-outline" onclick="selectLevel(${currentLevel})">
                            Reincearca
                        </button>
                        ${passed && currentLevel < 5 ? `
                            <button class="btn btn-primary" onclick="selectLevel(${currentLevel + 1})">
                                Nivelul Urmator
                            </button>
                        ` : ''}
                        ${passed && currentLevel === 5 ? `
                            <button class="btn btn-success" onclick="window.location.href='quiz2-slide-uri.html'">
                                Quiz-ul 2: Lucrul cu Slide-uri
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        // Initialize
        loadProgress();
        showLevelIntro();
    </script>
</body>
</html>
